(function(a,b){b.EventBroker=b.EventBroker||function(){var c={},d=function(a,b,c,d){!b&&a.interests&&(b=a,a=a.interests);for(var e in a)c[d](e,b[a[e]],b);return c},e={register:function(a,b){return a||b?d(a,b,this,"on"):this},unregister:function(a,b){return a||b?d(a,b,this,"off"):this}};return a.extend({namespace:"",get:function(d){return c[d]===undefined&&(c[d]=a.extend({namespace:d},b.Events,e)),c[d]},has:function(a){return c[a]!==undefined},destroy:function(a){if(!a)for(a in c)this.destroy(a);else c[a]&&(c[a].off(),delete c[a]);return this}},b.Events,e)}()})(_,Backbone)