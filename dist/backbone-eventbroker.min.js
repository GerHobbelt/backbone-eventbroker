(function(e,t,n){"use strict";n.EventBroker=n.EventBroker||function(){var e={},r=function(e,n,r,i){return!n&&e.interests&&(n=e,e=e.interests),t.each(e,function(s,o){var u=n[s];if(!t.isFunction(u))throw new Error("method '"+e[o]+"' not found for event '"+o+"'");r[i](o,u,n)}),r},i={register:function(e,t){return e||t?r(e,t,this,"on"):this},unregister:function(e,t){return e||t?r(e,t,this,"off"):this}};return t.extend({namespace:"",get:function(r){return this.has(r)||(e[r]=t.extend({namespace:r},n.Events,i)),e[r]},has:function(t){return typeof e[t]!="undefined"},destroy:function(n){return n?this.has(n)&&(e[n].off(),delete e[n]):t.each(e,function(e,t){this.destroy(t)},this),this}},n.Events,i)}();if(typeof define=="function"&&define.amd)return define(function(){return n.EventBroker});if(typeof module=="object"&&typeof module.exports=="object"){module.exports=n.EventBroker;return}})(jQuery,_,Backbone)