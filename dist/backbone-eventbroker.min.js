(function(e,t,n){"use strict";n.EventBroker=n.EventBroker||function(){var e={},r=function(e,n,r,i){var s,o;!n&&e.interests&&(n=e,e=e.interests);for(s in e)if(e.hasOwnProperty(s)){o=n[e[s]];if(!t.isFunction(o))throw new Error("method '"+e[s]+"' not found for event '"+s+"'");r[i](s,o,n)}return r},i={register:function(e,t){return e||t?r(e,t,this,"on"):this},unregister:function(e,t){return e||t?r(e,t,this,"off"):this}};return t.extend({namespace:"",get:function(r){return e[r]===undefined&&(e[r]=t.extend({namespace:r},n.Events,i)),e[r]},has:function(t){return e[t]!==undefined},destroy:function(t){if(!t)for(t in e)e.hasOwnProperty(t)&&this.destroy(t);else e[t]&&(e[t].off(),delete e[t]);return this}},n.Events,i)}();if(typeof define=="function"&&define.amd)return define(function(){return n.EventBroker});if(typeof module=="object"&&typeof module.exports=="object"){module.exports=n.EventBroker;return}})(jQuery,_,Backbone)