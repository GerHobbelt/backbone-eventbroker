(function(e,t,n){"use strict";n.EventBroker=n.EventBroker||function(){var e=n.Events.trigger,r={},i=function(e,n,r,i){var s;return!n&&e.interests&&(n=e,e=e.interests),s=t.isFunction(e)?e():e,t.each(s,function(s,o){var u=n[s];if(!t.isFunction(u))throw new Error("method '"+e[o]+"' not found for event '"+o+"'");r[i](o,u,n)}),r},s={register:function(e,t){return e||t?i(e,t,this,"on"):this},unregister:function(e,t){return e||t?i(e,t,this,"off"):this}};return t.extend({namespace:"",get:function(e){return this.has(e)||(r[e]=t.extend({namespace:e},n.Events,s)),r[e]},has:function(e){return typeof r[e]!="undefined"},destroy:function(e){return e?this.has(e)&&(r[e].off(),delete r[e]):t.each(r,function(e,t){this.destroy(t)},this),this}},n.Events,s,{trigger:function(t){if(t!==null&&t!==void 0)return e.apply(this,[].slice.call(arguments));throw new Error("Backbone.EventBroker.trigger invoked with null or undefined event")}})}();if(typeof define=="function"&&define.amd)return define(function(){return n.EventBroker});if(typeof module=="object"&&typeof module.exports=="object"){module.exports=n.EventBroker;return}})(jQuery,_,Backbone)